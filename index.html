<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>AmNumbers</title>
</head>


<body>

    <h1>Friendly Numbers</h1>

    <form method="GET">
        <label for="num1">Enter a number:</label><br>
        <input type="text" id="num1" name="num1"><br>
        <label for="num2">Enter a number:</label><br>
        <input type="text" id="num2" name="num2">
        <input type="submit" value="Submit"
        onclick="checkResults()">
    </form>

    <script>

        function checkResults() {

            num1 = parseInt(document.getElementById("num1").value)
            num2 = parseInt(document.getElementById("num2").value)

            function getFactors(num) {
                factors = []

                for (i = 1; i < ((num / 2) + 1); i++) {
                    if (num % i == 0) {
                        factors.push(i)
                    }
                }
                return factors
            }

            function getSum(list) {
                sum = 0
                for (i = 0; i < list.length; i++) {
                    sum += list[i]
                }

                return sum
            }

            factorsNum1 = getFactors(num1)
            factorsNum2 = getFactors(num2)

            alert("Factors for num1: " + factorsNum1 + "\n Factors for num2: "
                  + factorsNum2);

            sum1 = getSum(factorsNum1)
            sum2 = getSum(factorsNum2)

            if ((sum1 == num2) && (sum2 == num1)) {
                document.write("<div>" + num1 + " and " + num2 +
                    " are amicable</div>");
                } else {
                    document.write("<div>" + num1 + " and " + num2 +
                    " are not amicable</div>");
                }
        }

    </script>

</body>

</html>
